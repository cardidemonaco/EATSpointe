<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>EATSpointe | Where to find food and drink in Eastpointe!</title>
    
    <!-- 
        Cloud9 Terminal - https://docs.c9.io/docs/terminal
        Git Cheat Sheet - https://training.github.com/kit/downloads/github-git-cheat-sheet.pdf 
    -->
    
    <style>
        html, body {
            background-color: black;
            font-family: Arial;
            height: 100%;
            margin: 0;
            padding: 0;
            padding-top: 8px;
        }
        
        a, a:visited, a:link{text-decoration: none;}
        a:hover{text-decoration: underline;}
        
        #map {height: 100%;}
        #floating-panel {
            position: absolute;
            top: 10px;
            left: 25%;
            z-index: 5;
            background-color: #fff;
            padding: 5px;
            border: 1px solid #999;
            text-align: center;
            font-family: 'Roboto','sans-serif';
            line-height: 30px;
            padding-left: 10px;
        }
        
        #floating-panel {
            background-color: #fff;
            border: 1px solid #999;
            left: 25%;
            padding: 5px;
            position: absolute;
            top: 10px;
            z-index: 5;
        }
        
        span {border-radius: 4px; padding: 2px;}
        .a {background-color: #ac4362;} /* green */
        .c {background-color: #019fb8;} /* blue */
        .b {background-color: #fec724; color: black;} /* yellow */
        .d {background-color: #9abb26; color: black;} /* purple */
    </style>
    
  </head>

  <body onload="initMap();initTypes();">
  
    <div style="display: inline; background-color: black; color: whitesmoke; font-size: 30px; padding-left: 8px; padding-right: 12px;">
        <b>EATSpointe</b>
    </div>
    <div style="display: inline; background-color: black; color: whitesmoke;">
        <span id="dineIn" class="a">Dine-In</span>
        <span id="takeOut" class="a">Take-Out</span> 
        ||| 
        <span id="american" class="b">American</span>
        <span id="bbq" class="b">BBQ</span>
        <span id="chinese" class="b">Chinese</span>
        <span id="italian" class="b">Italian</span>
        <span id="mexican" class="b">Mexican</span>
        <span id="pizza" class="b" onclick="filterMap('Pizza')">Pizza</span>
        <span id="sandwiches" class="b">Sandwiches</span>
        |||
        <span id="alcohol" class="c">Alcohol</span>
        <span id="bakery" class="c">Bakery</span>
        <span id="bar" class="c">Bar</span>
        <span id="coffee" class="c">Coffee</span>
        <span id="diner" class="c">Diner</span>
        <span id="familyFriendly" class="c">Family friendly</span>
        |||
        <span id="glutenFreeFriendly" class="d">Gluten-free friendly</span>
        <span id="veganFriendly" class="d">Vegan friendly</span>
        <span id="vegetarianFriendly" class="d">Vegetarian friendly</span>
        ||| 
        <span id="numberOfLocations">63</span> Locations <!-- Change this to a dynamic number according to the array -->
        |||
        FB TW
    </div>
    <div id="map" style="margin-top: 8px;" onload="initMap()"></div>
    
    <script>

    
        // Array of locations
        var y = new Array(1000);
        
        // Array of types currently selected
        var t = new Array(100);
    
        // This function shortens the code in the following Array (y)
        function g(lat,lng){return new google.maps.LatLng(lat,lng);}

        // SCRIPT TO INITIALIZE THE MAP
        // Create the Google Map
        function initMap() {
                
            // *** ONLY EDIT THE DATA BELOW IN THE SPREADSHEET AND THEN COPY AND PASTE TO HERE *** //
            // 0:Active/Inactive; 1:Name; 2:Description; 3:Address; 4:Lat/Lng; 5:ERCC Member?; 6:Types
            y[0] = [1, 'Cloverleaf Bar & Restaurant', '', '24443 Gratiot Avenue', g(42.474663, -82.952055), 1, 'Alcohol, American, Bar, Pizza'];
            y[1] = [1, 'Villa Restaurant & Pizzeria', '', '21311 Gratiot Avenue', g(42.454643, -82.965264), 1, 'Italian, Pizza'];
            y[2] = [1, 'Donna&apos;s Family Dining', '', '18640 East 10 Mile Road', g(42.479889, -82.927846), 1, 'American, Diner'];
            y[3] = [1, 'Friends Tavern', '', '23850 Gratiot Avenue', g(42.472043, -82.952674), 1, 'Bar'];
            y[4] = [1, 'Grand Dimitre&apos;s', '', '25001 Gratiot Avenue', g(42.480217, -82.948572), 1, 'Diner, American'];
            y[5] = [1, 'Hungry Howie&apos;s Pizza', '', '22441 Kelly Road', g(42.463503, -82.928942), 1, 'Pizza'];
            y[6] = [1, 'McDonald&apos;s', '', '17921 East 9 Mile Road', g(42.465577, -82.935909), 1, 'American'];
            y[7] = [1, 'Olive Garden', '', '24845 Gratiot Avenue', g(42.478462, -82.949634), 1, 'Italian'];
            y[8] = [1, 'Papa John&apos;s Pizza', '', '22241 Kelly Road', g(42.462028, -82.930547), 1, 'Pizza'];
            y[9] = [1, 'Papa Romano&apos;s & Mr. Pita', '', '22661 Gratiot Avenue', g(42.464322, -82.959707), 1, 'Pizza'];
            y[10] = [1, 'Pizza Me', '', '', g(), 1, 'Pizza'];
            y[11] = [1, 'Salvatore Scallopini', '', '22611 Gratiot Avenue', g(42.463848, -82.959658), 1, 'Italian'];
            y[12] = [1, 'Sugarbush Tavern', '', '19080 East 10 Mile Road', g(42.479991, -82.921896), 1, 'Bar, American'];
            y[13] = [1, 'Tim Horton&apos;s', '', '17210 East 9 Mile Road', g(42.464667, -82.944054), 1, 'Coffee'];
            y[14] = [1, '10x Better Soul Food', '', '', g(), 0, 'BBQ'];
            y[15] = [1, 'Adriana&apos;s Kitchen', '', '', g(42.465112, -82.948927), 0, ''];
            y[16] = [1, 'Andary&apos;s Grill & Deli', '', '', g(42.470411, -82.954819), 0, ''];
            y[17] = [1, 'Big Boy', '', '', g(42.465559, -82.958383), 0, ''];
            y[18] = [1, 'Boney Moroney Bar', '', '', g(42.456316, -82.962807), 0, ''];
            y[19] = [1, 'Bread Basket Deli', '', '', g(42.450935, -82.940886), 0, ''];
            y[20] = [1, 'Burger King', '', '', g(42.450942, -82.966426), 0, ''];
            y[21] = [1, 'China Wok', '', '', g(42.462667, -82.929915), 0, ''];
            y[22] = [1, 'Coffee Break Café', '', '', g(42.479804, -82.920525), 0, ''];
            y[23] = [1, 'Dairy Queen Brazier', '', '', g(42.465111, -82.944537), 0, ''];
            y[24] = [1, 'Domino&apos;s Pizza', '', '', g(42.479924, -82.964993), 0, 'Pizza'];
            y[25] = [1, 'Eastpointe Pub', '', '', g(42.465298, -82.924711), 0, ''];
            y[26] = [1, 'Five Guys & Fries', '', '', g(42.464157, -82.959707), 0, ''];
            y[27] = [1, 'Guiseppe&apos;s Bakery', '', '', g(42.458315, -82.934028), 0, ''];
            y[28] = [1, 'Happy Garden', '', '', g(42.462424, -82.958903), 0, ''];
            y[29] = [1, 'Happy&apos;s Pizza', '', '', g(42.471669, -82.952741), 0, 'Pizza'];
            y[30] = [1, 'Jet&apos;s Pizza', '', '', g(42.479976, -82.918491), 0, 'Pizza'];
            y[31] = [1, 'KC&apos;s Dairy Twist', '', '', g(42.479825, -82.958237), 0, ''];
            y[32] = [1, 'Marz Bar', '', '', g(42.479803, -82.964470), 0, ''];
            y[33] = [1, 'Legend&apos;s Coney Express', '', '', g(42.465404, -82.937518), 0, ''];
            y[34] = [1, 'Little Caesar&apos;s', '', '', g(42.479923, -82.955558), 0, 'Pizza'];
            y[35] = [1, 'McGee&apos;s Lounge', '', '', g(42.459181, -82.961050), 0, ''];
            y[36] = [1, 'O&apos;Hara&apos;s Irish Pub', '', '', g(42.479876, -82.956645), 0, ''];
            y[37] = [1, 'Panda', '', '', g(), 0, ''];
            y[38] = [1, 'Pizza Square', '', '', g(42.453855, -82.938276), 0, 'Pizza'];
            y[39] = [1, 'Plaza Mexico', '', '', g(42.465058, -82.931126), 0, ''];
            y[40] = [1, 'Popeye&apos;s', '', '', g(42.465148, -82.928295), 0, ''];
            y[41] = [1, 'Scoreboard Sports Bar & Grill', '', '', g(42.480226, -82.955936), 0, ''];
            y[42] = [1, 'Shawarma Express', '', '', g(42.479489, -82.948824), 0, ''];
            y[43] = [1, 'Shish Kabob', '', '', g(42.460782, -82.960984), 0, ''];
            y[44] = [1, 'Snooker&apos;s Pool & Pub', '', '', g(42.459500, -82.932982), 0, ''];
            y[45] = [1, 'Subway', '', '', g(42.465146, -82.929948), 0, ''];
            y[46] = [1, 'Subway', '', '', g(42.463094, -82.960277), 0, ''];
            y[47] = [1, 'Taco Bell', '', '', g(42.465354, -82.938304), 0, ''];
            y[48] = [1, 'Wah Hong Chop Suey', '', '', g(42.450736, -82.942593), 0, ''];
            y[49] = [1, 'Wendy&apos;s', '', '', g(42.465537, -82.934832), 0, ''];
            y[50] = [1, 'Western', '', '', g(42.456441, -82.963968), 0, ''];
            y[51] = [1, 'White Castle', '', '', g(42.450380, -82.968444), 0, ''];
            y[52] = [1, 'Milestone Grill', '', '', g(42.465453, -82.937006), 0, 'Pizza'];
            y[53] = [1, 'Ashby&apos;s', '', '', g(), 0, ''];
            y[54] = [1, 'Wing Stop', '', '', g(42.463214, -82.960226), 0, ''];
            y[55] = [1, 'Granma&apos;s House of Pancakes', '', '', g(42.465341, -82.943988), 0, ''];
            y[56] = [1, 'Josephine&apos;s Soul Food', '', '', g(42.464982, -82.935152), 0, ''];
            y[57] = [1, 'Sullivan&apos;s', '', '', g(42.465000, -82.932341), 0, ''];
            y[58] = [1, 'Di Frattelli Pizza', '', '', g(42.465315, -82.924976), 0, 'Pizza'];
            y[59] = [1, 'Gratiot Avenue Memory Lane Café', '', '', g(), 0, ''];
            y[60] = [1, 'Passport Pizza', '', '', g(42.480257, -82.949271), 0, 'Pizza'];
            y[61] = [1, 'East Detroit Bakery', '', '', g(42.464771, -82.941100), 0, ''];
            y[62] = [1, 'Cup Cakes &amp; Ice Cream Kids', '', '', g(42.464743, -82.940718), 0, ''];
            y[63] = [1, 'Taormina&apos;s Pizza &amp; Ice Cream', '', '', g(42.472294, -82.967218), 0, 'Pizza'];
            // *** ONLY EDIT THE DATA ABOVE IN THE SPREADSHEET AND THEN COPY AND PASTE TO HERE *** //
            
            var map = new google.maps.Map(document.getElementById('map'), {
                zoom: 14, //Proper zoom level to see all of Eastpointe at once
                center: {lat: 42.463964, lng: -82.955647}, //LatLng for the center of Eastpointe, Michigan
                mapTypeId: google.maps.MapTypeId.MAP //This is the "map" view and not satellite view (loads more quickly and does not seem as overwhelming)
            });
          
            // Populate the map by adding markers
            for (var i=0; i<y.length-2; i++) {
                addMarker();
            } // END for
    
            // Here is where the map will populate initially (HOW WILL I FILTER ACCORDING TO BUTTONS?)
            function addMarker(){
                
                    // Create marker
                    var marker = new google.maps.Marker({
                        title: y[i][1],
                        position: y[i][4],
                        map: map
                        // icon: shamrock
                    });
                    
                    // Create content for info window
                    var c = "";
                    
                    var ercc = "";
                    if(y[i][5] == 1){
                        ercc = "<i>Eastpointe-Roseville Chamber of Commerce Member</i><br />"
                    }
                    else{
                        ercc = "";
                    }
                    
                    c = '<b>' + y[i][1] + '</b><br />' + //Name
                        y[i][3] + '<br />' + //Street Address
                        ercc;
                    
                    // info window for click
                    var infowindow = new google.maps.InfoWindow({
                        content: c
                    });
                    marker.addListener('click', function() {
                        infowindow.open(map, marker);
                    });
                    
            } // END addMarkers
        } // END initMap
        
        // Initialize the types
        function initTypes(){
            t[0] = ["Dine-In"];
            t[1] = ["Take-Out"];
            t[2] = ["American"];
            t[3] = ["BBQ"];
            t[4] = ["Chinese"];
            t[5] = ["Italian"];
            t[6] = ["Mexican"];
            t[7] = ["Pizza"];
            t[8] = ["Sandwiches"];
            t[9] = ["Alcohol"];
            t[10] = ["Bakery"];
            t[11] = ["Bar"];
            t[12] = ["Coffee"];
            t[13] = ["Diner"];
            t[14] = ["Family friendly"];
            t[15] = ["Gluten-free friendly"];
            t[16] = ["Vegan friendly"];
            t[17] = ["Vegetarian friendly"];
        }
        
        //Show only the 
        function filterMap(typeName){
            for (var i=0;i<t.length;i++){
                if (t[i] == typeName){
                    t = t.splice(i, 1) //Remove the item that was clicked from the array
                }
            }
        }
        
    </script>

    <script async defer
        src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCMOt1gjpTtYCqmG7CXdami3JuOPNQRPcU&signed_in=true&libraries=visualization&signed_in=true">
    </script>
    
  </body>
</html>